<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data exploration | Wildlife Presence Using Trail Cameras</title>
  <meta name="description" content="This project utilizes trail camera footage obtained from 2019-2023 in Idaho, Oregon, and Washington for Snapshot USA. The goal is to become familiar with assessing wildlife presence using trail camera data. Methods used here will help with assessing wildlife data (i.e., trail camera, acoustic recording, point count survey) for my research regarding deadwood quantification using LiDAR and wildlife presence and activity near deadwood structures." />
  <meta name="generator" content="bookdown 0.46 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data exploration | Wildlife Presence Using Trail Cameras" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This project utilizes trail camera footage obtained from 2019-2023 in Idaho, Oregon, and Washington for Snapshot USA. The goal is to become familiar with assessing wildlife presence using trail camera data. Methods used here will help with assessing wildlife data (i.e., trail camera, acoustic recording, point count survey) for my research regarding deadwood quantification using LiDAR and wildlife presence and activity near deadwood structures." />
  <meta name="github-repo" content="rrobenstein.github.io/wildlife_presence_trail_cams" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data exploration | Wildlife Presence Using Trail Cameras" />
  
  <meta name="twitter:description" content="This project utilizes trail camera footage obtained from 2019-2023 in Idaho, Oregon, and Washington for Snapshot USA. The goal is to become familiar with assessing wildlife presence using trail camera data. Methods used here will help with assessing wildlife data (i.e., trail camera, acoustic recording, point count survey) for my research regarding deadwood quantification using LiDAR and wildlife presence and activity near deadwood structures." />
  

<meta name="author" content="Riley Robenstein" />


<meta name="date" content="2025-12-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="database-creation-and-population.html"/>
<link rel="next" href="data-visualization.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="open_sans.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Remote sensing and wildlife</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#snapshot-usa"><i class="fa fa-check"></i><b>1.1</b> SNAPSHOT USA</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#study-area"><i class="fa fa-check"></i><b>1.2</b> Study area</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#data-description"><i class="fa fa-check"></i><b>1.3</b> Data description</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html"><i class="fa fa-check"></i><b>2</b> Database creation and population</a>
<ul>
<li class="chapter" data-level="2.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#load-packages-and-create-and-connect-to-database"><i class="fa fa-check"></i><b>2.1</b> Load packages and create and connect to database</a></li>
<li class="chapter" data-level="2.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#project"><i class="fa fa-check"></i><b>2.2</b> <strong>PROJECT_NAME</strong> table</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#create-project_name-table"><i class="fa fa-check"></i><b>2.2.1</b> Create <strong>project_name</strong> table</a></li>
<li class="chapter" data-level="2.2.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#populate-project_name-table"><i class="fa fa-check"></i><b>2.2.2</b> Populate <strong>project_name</strong> table</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#array"><i class="fa fa-check"></i><b>2.3</b> <strong>CAMERA_ARRAY</strong> table</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#create-camera_array-table"><i class="fa fa-check"></i><b>2.3.1</b> Create <strong>camera_array</strong> table</a></li>
<li class="chapter" data-level="2.3.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#populate-camera_array-table"><i class="fa fa-check"></i><b>2.3.2</b> Populate <strong>camera_array</strong> table</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#site"><i class="fa fa-check"></i><b>2.4</b> <strong>SITE_NAME</strong> table</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#create-site_name-table"><i class="fa fa-check"></i><b>2.4.1</b> Create <strong>site_name</strong> table</a></li>
<li class="chapter" data-level="2.4.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#populate-site_name-table"><i class="fa fa-check"></i><b>2.4.2</b> Populate <strong>site_name</strong> table</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#deployment"><i class="fa fa-check"></i><b>2.5</b> <strong>DEPLOYMENT</strong> table</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#create-deployment-table"><i class="fa fa-check"></i><b>2.5.1</b> Create <strong>deployment</strong> table</a></li>
<li class="chapter" data-level="2.5.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#populate-deployment-table"><i class="fa fa-check"></i><b>2.5.2</b> Populate <strong>deployment</strong> table</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#sequence"><i class="fa fa-check"></i><b>2.6</b> <strong>SEQUENCE</strong> table</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#create-sequence-table"><i class="fa fa-check"></i><b>2.6.1</b> Create <strong>sequence</strong> table</a></li>
<li class="chapter" data-level="2.6.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#populate-sequence-table"><i class="fa fa-check"></i><b>2.6.2</b> Populate <strong>sequence</strong> table</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#detection-table"><i class="fa fa-check"></i><b>2.7</b> <strong>DETECTION</strong> table</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#create-detection-table"><i class="fa fa-check"></i><b>2.7.1</b> Create <strong>detection</strong> table</a></li>
<li class="chapter" data-level="2.7.2" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#clean-detection-table"><i class="fa fa-check"></i><b>2.7.2</b> Clean <strong>detection</strong> table</a></li>
<li class="chapter" data-level="2.7.3" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#populate-detection-table"><i class="fa fa-check"></i><b>2.7.3</b> Populate <strong>detection</strong> table</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="database-creation-and-population.html"><a href="database-creation-and-population.html#check-database"><i class="fa fa-check"></i><b>2.8</b> Check database</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-exploration.html"><a href="data-exploration.html"><i class="fa fa-check"></i><b>3</b> Data exploration</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-exploration.html"><a href="data-exploration.html#load-package-database-and-tables"><i class="fa fa-check"></i><b>3.1</b> Load package, database and tables</a></li>
<li class="chapter" data-level="3.2" data-path="data-exploration.html"><a href="data-exploration.html#exploratory-summaries"><i class="fa fa-check"></i><b>3.2</b> Exploratory summaries</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-exploration.html"><a href="data-exploration.html#deployments-per-year"><i class="fa fa-check"></i><b>3.2.1</b> Deployments per year</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-exploration.html"><a href="data-exploration.html#arrays-with-8-cameras"><i class="fa fa-check"></i><b>3.2.2</b> Arrays with &gt; 8 cameras</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-exploration.html"><a href="data-exploration.html#sites-reused"><i class="fa fa-check"></i><b>3.2.3</b> Sites reused</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-exploration.html"><a href="data-exploration.html#number-of-species"><i class="fa fa-check"></i><b>3.3</b> Number of species</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-exploration.html"><a href="data-exploration.html#by-habitat"><i class="fa fa-check"></i><b>3.3.1</b> By habitat</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-exploration.html"><a href="data-exploration.html#by-feature-type"><i class="fa fa-check"></i><b>3.3.2</b> By feature type</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-exploration.html"><a href="data-exploration.html#by-habitat-and-feature-type"><i class="fa fa-check"></i><b>3.3.3</b> By habitat and feature type</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-exploration.html"><a href="data-exploration.html#number-of-detections"><i class="fa fa-check"></i><b>3.4</b> Number of detections</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-exploration.html"><a href="data-exploration.html#by-year"><i class="fa fa-check"></i><b>3.4.1</b> By year</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-exploration.html"><a href="data-exploration.html#by-month"><i class="fa fa-check"></i><b>3.4.2</b> By month</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-exploration.html"><a href="data-exploration.html#by-site"><i class="fa fa-check"></i><b>3.4.3</b> By site</a></li>
<li class="chapter" data-level="3.4.4" data-path="data-exploration.html"><a href="data-exploration.html#by-site-and-month"><i class="fa fa-check"></i><b>3.4.4</b> By site and month</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>4</b> Data visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-visualization.html"><a href="data-visualization.html#species-in-september-and-october"><i class="fa fa-check"></i><b>4.1</b> Species in September and October</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-visualization.html"><a href="data-visualization.html#species-detected-100-times"><i class="fa fa-check"></i><b>4.1.1</b> Species detected &gt; 100 times</a></li>
<li class="chapter" data-level="4.1.2" data-path="data-visualization.html"><a href="data-visualization.html#carnivora-order-detections"><i class="fa fa-check"></i><b>4.1.2</b> Carnivora order detections</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-visualization.html"><a href="data-visualization.html#detections-across-orders"><i class="fa fa-check"></i><b>4.2</b> Detections across orders</a></li>
<li class="chapter" data-level="4.3" data-path="data-visualization.html"><a href="data-visualization.html#detections-over-time"><i class="fa fa-check"></i><b>4.3</b> Detections over time</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data-visualization.html"><a href="data-visualization.html#wildlife-detections-over-time"><i class="fa fa-check"></i><b>4.3.1</b> Wildlife detections over time</a></li>
<li class="chapter" data-level="4.3.2" data-path="data-visualization.html"><a href="data-visualization.html#wildlife-and-human-domestic-detections-over-time"><i class="fa fa-check"></i><b>4.3.2</b> Wildlife and human-domestic detections over time</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Wildlife Presence Using Trail Cameras</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-exploration" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data exploration<a href="data-exploration.html#data-exploration" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Now that the database is created and loaded, we can explore and
familiarize ourselves with trail camera data.</p>
<div id="load-package-database-and-tables" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Load package, database and tables<a href="data-exploration.html#load-package-database-and-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Load the <code>tidyverse</code> package to help with data exploration, along with the previous packages. Load the database and
tables and assign them each to an object.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data-exploration.html#cb35-1" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb35-2"><a href="data-exploration.html#cb35-2" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb35-3"><a href="data-exploration.html#cb35-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb35-4"><a href="data-exploration.html#cb35-4" tabindex="-1"></a></span>
<span id="cb35-5"><a href="data-exploration.html#cb35-5" tabindex="-1"></a>wlf_cam_db <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(<span class="at">drv =</span> RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(),</span>
<span id="cb35-6"><a href="data-exploration.html#cb35-6" tabindex="-1"></a>                       <span class="st">&quot;../database/wlf_cam.db&quot;</span>)</span>
<span id="cb35-7"><a href="data-exploration.html#cb35-7" tabindex="-1"></a></span>
<span id="cb35-8"><a href="data-exploration.html#cb35-8" tabindex="-1"></a>project <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(wlf_cam_db, <span class="st">&quot;SELECT * FROM project_name;&quot;</span>)</span>
<span id="cb35-9"><a href="data-exploration.html#cb35-9" tabindex="-1"></a>array <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(wlf_cam_db, <span class="st">&quot;SELECT * FROM camera_array;&quot;</span>)</span>
<span id="cb35-10"><a href="data-exploration.html#cb35-10" tabindex="-1"></a>site <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(wlf_cam_db, <span class="st">&quot;SELECT * FROM site_name;&quot;</span>)</span>
<span id="cb35-11"><a href="data-exploration.html#cb35-11" tabindex="-1"></a>deployment <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(wlf_cam_db, <span class="st">&quot;SELECT * FROM deployment;&quot;</span>)</span>
<span id="cb35-12"><a href="data-exploration.html#cb35-12" tabindex="-1"></a>sequence <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(wlf_cam_db, <span class="st">&quot;SELECT * FROM sequence;&quot;</span>)</span>
<span id="cb35-13"><a href="data-exploration.html#cb35-13" tabindex="-1"></a>detection <span class="ot">&lt;-</span> <span class="fu">dbGetQuery</span>(wlf_cam_db, <span class="st">&quot;SELECT * FROM detection;&quot;</span>)</span></code></pre></div>
</div>
<div id="exploratory-summaries" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Exploratory summaries<a href="data-exploration.html#exploratory-summaries" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before diving into wildlife presence/absence and population trends,
explore the following summary information about the trail cameras below.</p>
<div id="deployments-per-year" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Deployments per year<a href="data-exploration.html#deployments-per-year" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many cameras were deployed each year.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-exploration.html#cb36-1" tabindex="-1"></a>n_cam <span class="ot">&lt;-</span> deployment <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="data-exploration.html#cb36-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(<span class="fu">mdy</span>(start_date))) <span class="sc">%&gt;%</span> <span class="co"># acquire year from deployment date</span></span>
<span id="cb36-3"><a href="data-exploration.html#cb36-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> <span class="co"># group deployments by year</span></span>
<span id="cb36-4"><a href="data-exploration.html#cb36-4" tabindex="-1"></a>  tally <span class="co"># calculate number of cameras deployed per year</span></span>
<span id="cb36-5"><a href="data-exploration.html#cb36-5" tabindex="-1"></a></span>
<span id="cb36-6"><a href="data-exploration.html#cb36-6" tabindex="-1"></a>n_cam</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##    year     n
##   &lt;dbl&gt; &lt;int&gt;
## 1  2019    65
## 2  2020    61
## 3  2021    67
## 4  2022   116
## 5  2023    93</code></pre>
</div>
<div id="arrays-with-8-cameras" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Arrays with &gt; 8 cameras<a href="data-exploration.html#arrays-with-8-cameras" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many camera arrays had more than eight cameras
deployed per survey period.</p>
<p>Note that there is no foreign key directly connecting the array and
deployment tables. We will need the site table to connect these these
two tables.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-exploration.html#cb38-1" tabindex="-1"></a>n_array <span class="ot">&lt;-</span> array <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="data-exploration.html#cb38-2" tabindex="-1"></a>  <span class="fu">left_join</span>(site, <span class="at">by =</span> <span class="st">&quot;array_name&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join site table to array using array_name</span></span>
<span id="cb38-3"><a href="data-exploration.html#cb38-3" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to array using site_id</span></span>
<span id="cb38-4"><a href="data-exploration.html#cb38-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(<span class="fu">mdy</span>(start_date)), <span class="co"># acquire year from deployment date</span></span>
<span id="cb38-5"><a href="data-exploration.html#cb38-5" tabindex="-1"></a>         <span class="at">array_year =</span> <span class="fu">paste0</span>(array_name, <span class="st">&quot;_&quot;</span>, year)) <span class="sc">%&gt;%</span> <span class="co"># create new variable with array name and year</span></span>
<span id="cb38-6"><a href="data-exploration.html#cb38-6" tabindex="-1"></a>  <span class="fu">group_by</span>(array_year) <span class="sc">%&gt;%</span> </span>
<span id="cb38-7"><a href="data-exploration.html#cb38-7" tabindex="-1"></a>  tally <span class="sc">%&gt;%</span>  <span class="co"># calculate number of cameras per array per year</span></span>
<span id="cb38-8"><a href="data-exploration.html#cb38-8" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">8</span>) <span class="sc">%&gt;%</span> <span class="co"># include arrays with more than 8 cameras</span></span>
<span id="cb38-9"><a href="data-exploration.html#cb38-9" tabindex="-1"></a>  tally <span class="co"># calculate number of arrays with &gt; 8 cameras deployed in a survey period</span></span>
<span id="cb38-10"><a href="data-exploration.html#cb38-10" tabindex="-1"></a></span>
<span id="cb38-11"><a href="data-exploration.html#cb38-11" tabindex="-1"></a>n_array</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##       n
##   &lt;int&gt;
## 1    25</code></pre>
<p>We can see that 25 camera array deployments had more than eight cameras.</p>
</div>
<div id="sites-reused" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Sites reused<a href="data-exploration.html#sites-reused" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many and which sites were reused.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-exploration.html#cb40-1" tabindex="-1"></a>reused <span class="ot">&lt;-</span> site <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="data-exploration.html#cb40-2" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to site using site_id</span></span>
<span id="cb40-3"><a href="data-exploration.html#cb40-3" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id) <span class="sc">%&gt;%</span> <span class="co"># group by site</span></span>
<span id="cb40-4"><a href="data-exploration.html#cb40-4" tabindex="-1"></a>  tally <span class="sc">%&gt;%</span> <span class="co"># calculate number of times each site is used</span></span>
<span id="cb40-5"><a href="data-exploration.html#cb40-5" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="co"># include sites with more than one deployment</span></span>
<span id="cb40-6"><a href="data-exploration.html#cb40-6" tabindex="-1"></a></span>
<span id="cb40-7"><a href="data-exploration.html#cb40-7" tabindex="-1"></a>n_reused <span class="ot">&lt;-</span> <span class="fu">tally</span>(reused) <span class="co"># calculate number of sites reused</span></span>
<span id="cb40-8"><a href="data-exploration.html#cb40-8" tabindex="-1"></a></span>
<span id="cb40-9"><a href="data-exploration.html#cb40-9" tabindex="-1"></a>reused</span></code></pre></div>
<pre><code>## # A tibble: 40 × 2
##    site_id                                           n
##    &lt;chr&gt;                                         &lt;int&gt;
##  1 DRPSS1                                            3
##  2 DSPSS1                                            3
##  3 IRPSS1                                            5
##  4 JBPSS1                                            4
##  5 LTPSS1                                            3
##  6 LWPSS1                                            3
##  7 MGPSS1                                            4
##  8 NRPSS1                                            3
##  9 OR_Forest_Oregon_State_University_22_ORSNAP07     2
## 10 Oregon_Forest_Lesmeister_21_loc_01                4
## # ℹ 30 more rows</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-exploration.html#cb42-1" tabindex="-1"></a>n_reused</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##       n
##   &lt;int&gt;
## 1    40</code></pre>
<p>We can see that 40 sites were reused between 2019-2023 in Idaho,
Washington and Oregon.</p>
</div>
</div>
<div id="number-of-species" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Number of species<a href="data-exploration.html#number-of-species" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Now, let’s look at the species level.</p>
<div id="by-habitat" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> By habitat<a href="data-exploration.html#by-habitat" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many species were detected in each habitat type.
Similar to before, we will need to bring in a third
table—sequence—to relate the detection and deployment tables.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-exploration.html#cb44-1" tabindex="-1"></a><span class="co"># filter out NA values for species</span></span>
<span id="cb44-2"><a href="data-exploration.html#cb44-2" tabindex="-1"></a>sp_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ]</span>
<span id="cb44-3"><a href="data-exploration.html#cb44-3" tabindex="-1"></a></span>
<span id="cb44-4"><a href="data-exploration.html#cb44-4" tabindex="-1"></a>n_sp_habitat <span class="ot">&lt;-</span> sp_detect[sp_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb44-5"><a href="data-exploration.html#cb44-5" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb44-6"><a href="data-exploration.html#cb44-6" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb44-7"><a href="data-exploration.html#cb44-7" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;deployment_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to detection using deployment_id</span></span>
<span id="cb44-8"><a href="data-exploration.html#cb44-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">genus_species =</span> <span class="fu">paste0</span>(genus, <span class="st">&quot; &quot;</span>, species)) <span class="sc">%&gt;%</span> <span class="co"># create new variable with genus and species</span></span>
<span id="cb44-9"><a href="data-exploration.html#cb44-9" tabindex="-1"></a>  <span class="fu">select</span>(genus_species, habitat) <span class="sc">%&gt;%</span>  <span class="co"># select variables genus_species and habitat</span></span>
<span id="cb44-10"><a href="data-exploration.html#cb44-10" tabindex="-1"></a>  <span class="fu">group_by</span>(habitat) <span class="sc">%&gt;%</span> <span class="co"># group by habitat</span></span>
<span id="cb44-11"><a href="data-exploration.html#cb44-11" tabindex="-1"></a>  tally</span>
<span id="cb44-12"><a href="data-exploration.html#cb44-12" tabindex="-1"></a></span>
<span id="cb44-13"><a href="data-exploration.html#cb44-13" tabindex="-1"></a>n_sp_habitat</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   habitat           n
##   &lt;chr&gt;         &lt;int&gt;
## 1 Anthropogenic  3538
## 2 Forest        10467
## 3 Grassland       371</code></pre>
</div>
<div id="by-feature-type" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> By feature type<a href="data-exploration.html#by-feature-type" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many species were detected near each feature type.
Like the previous query, we will need the sequence table to relate the
detection and deployment tables.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-exploration.html#cb46-1" tabindex="-1"></a><span class="co"># filter out NA values for species</span></span>
<span id="cb46-2"><a href="data-exploration.html#cb46-2" tabindex="-1"></a>sp_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ]</span>
<span id="cb46-3"><a href="data-exploration.html#cb46-3" tabindex="-1"></a></span>
<span id="cb46-4"><a href="data-exploration.html#cb46-4" tabindex="-1"></a>n_sp_feature <span class="ot">&lt;-</span> sp_detect[sp_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb46-5"><a href="data-exploration.html#cb46-5" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb46-6"><a href="data-exploration.html#cb46-6" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb46-7"><a href="data-exploration.html#cb46-7" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;deployment_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to detection using deployment_id</span></span>
<span id="cb46-8"><a href="data-exploration.html#cb46-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">genus_species =</span> <span class="fu">paste0</span>(genus, <span class="st">&quot; &quot;</span>, species)) <span class="sc">%&gt;%</span> <span class="co"># create new variable with genus and species</span></span>
<span id="cb46-9"><a href="data-exploration.html#cb46-9" tabindex="-1"></a>  <span class="fu">select</span>(genus_species, feature_type) <span class="sc">%&gt;%</span>  <span class="co"># select variables genus_species and feature_type</span></span>
<span id="cb46-10"><a href="data-exploration.html#cb46-10" tabindex="-1"></a>  <span class="fu">group_by</span>(feature_type) <span class="sc">%&gt;%</span> <span class="co"># group by feature_type</span></span>
<span id="cb46-11"><a href="data-exploration.html#cb46-11" tabindex="-1"></a>  tally</span>
<span id="cb46-12"><a href="data-exploration.html#cb46-12" tabindex="-1"></a></span>
<span id="cb46-13"><a href="data-exploration.html#cb46-13" tabindex="-1"></a>n_sp_feature</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   feature_type     n
##   &lt;chr&gt;        &lt;int&gt;
## 1 None         11219
## 2 Other          763
## 3 Road dirt      297
## 4 Trail game    1239
## 5 Trail hiking   730
## 6 Water source   128</code></pre>
</div>
<div id="by-habitat-and-feature-type" class="section level3 hasAnchor" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> By habitat and feature type<a href="data-exploration.html#by-habitat-and-feature-type" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many species were detected in each habitat type near
each feature type.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-exploration.html#cb48-1" tabindex="-1"></a><span class="co"># filter out NA values for species</span></span>
<span id="cb48-2"><a href="data-exploration.html#cb48-2" tabindex="-1"></a>sp_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ]</span>
<span id="cb48-3"><a href="data-exploration.html#cb48-3" tabindex="-1"></a></span>
<span id="cb48-4"><a href="data-exploration.html#cb48-4" tabindex="-1"></a>n_species <span class="ot">&lt;-</span> sp_detect[sp_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb48-5"><a href="data-exploration.html#cb48-5" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb48-6"><a href="data-exploration.html#cb48-6" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb48-7"><a href="data-exploration.html#cb48-7" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;deployment_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to detection using deployment_id</span></span>
<span id="cb48-8"><a href="data-exploration.html#cb48-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">genus_species =</span> <span class="fu">paste0</span>(genus, <span class="st">&quot; &quot;</span>, species)) <span class="sc">%&gt;%</span> <span class="co"># create new variable with genus and species</span></span>
<span id="cb48-9"><a href="data-exploration.html#cb48-9" tabindex="-1"></a>  <span class="fu">select</span>(genus_species, habitat, feature_type) <span class="sc">%&gt;%</span>  <span class="co"># select variables genus_species, habitat, and feature_type</span></span>
<span id="cb48-10"><a href="data-exploration.html#cb48-10" tabindex="-1"></a>  <span class="fu">group_by</span>(habitat, feature_type) <span class="sc">%&gt;%</span> <span class="co"># group by habitat, then feature_type</span></span>
<span id="cb48-11"><a href="data-exploration.html#cb48-11" tabindex="-1"></a>  tally</span>
<span id="cb48-12"><a href="data-exploration.html#cb48-12" tabindex="-1"></a></span>
<span id="cb48-13"><a href="data-exploration.html#cb48-13" tabindex="-1"></a>n_species</span></code></pre></div>
<pre><code>## # A tibble: 11 × 3
## # Groups:   habitat [3]
##    habitat       feature_type     n
##    &lt;chr&gt;         &lt;chr&gt;        &lt;int&gt;
##  1 Anthropogenic None          2979
##  2 Anthropogenic Trail game     257
##  3 Anthropogenic Trail hiking   302
##  4 Forest        None          8240
##  5 Forest        Other          736
##  6 Forest        Road dirt      297
##  7 Forest        Trail game     766
##  8 Forest        Trail hiking   428
##  9 Grassland     Other           27
## 10 Grassland     Trail game     216
## 11 Grassland     Water source   128</code></pre>
</div>
</div>
<div id="number-of-detections" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Number of detections<a href="data-exploration.html#number-of-detections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s look at the individual level for wildlife detections.</p>
<div id="by-year" class="section level3 hasAnchor" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> By year<a href="data-exploration.html#by-year" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many individuals—known and unknown—were detected
each year.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-exploration.html#cb50-1" tabindex="-1"></a>wlf_detect <span class="ot">&lt;-</span> detection</span>
<span id="cb50-2"><a href="data-exploration.html#cb50-2" tabindex="-1"></a>wlf_detect<span class="sc">$</span>species[<span class="fu">is.na</span>(wlf_detect<span class="sc">$</span>species)] <span class="ot">&lt;-</span> <span class="st">&quot;unknown&quot;</span> <span class="co"># convert NA values to &quot;unknown&quot;</span></span>
<span id="cb50-3"><a href="data-exploration.html#cb50-3" tabindex="-1"></a></span>
<span id="cb50-4"><a href="data-exploration.html#cb50-4" tabindex="-1"></a>n_detect_yr <span class="ot">&lt;-</span> wlf_detect[wlf_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb50-5"><a href="data-exploration.html#cb50-5" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb50-6"><a href="data-exploration.html#cb50-6" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb50-7"><a href="data-exploration.html#cb50-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(<span class="fu">mdy_hm</span>(start_time))) <span class="sc">%&gt;%</span> <span class="co"># acquire year from start sequence</span></span>
<span id="cb50-8"><a href="data-exploration.html#cb50-8" tabindex="-1"></a>  <span class="fu">select</span>(group_number, year) <span class="sc">%&gt;%</span>  <span class="co"># select variables group_number and year</span></span>
<span id="cb50-9"><a href="data-exploration.html#cb50-9" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> <span class="co"># group by year</span></span>
<span id="cb50-10"><a href="data-exploration.html#cb50-10" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(group_number))</span>
<span id="cb50-11"><a href="data-exploration.html#cb50-11" tabindex="-1"></a></span>
<span id="cb50-12"><a href="data-exploration.html#cb50-12" tabindex="-1"></a>n_detect_yr</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##    year     n
##   &lt;dbl&gt; &lt;int&gt;
## 1  2019  4425
## 2  2020  3780
## 3  2021  1816
## 4  2022  4696
## 5  2023  4699</code></pre>
<p>We want to know how many known individuals were detected each year.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-exploration.html#cb52-1" tabindex="-1"></a>known_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ] <span class="co"># filter out unknown (NA) detections</span></span>
<span id="cb52-2"><a href="data-exploration.html#cb52-2" tabindex="-1"></a></span>
<span id="cb52-3"><a href="data-exploration.html#cb52-3" tabindex="-1"></a>n_known_yr <span class="ot">&lt;-</span> known_detect[known_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb52-4"><a href="data-exploration.html#cb52-4" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb52-5"><a href="data-exploration.html#cb52-5" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb52-6"><a href="data-exploration.html#cb52-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(<span class="fu">mdy_hm</span>(start_time))) <span class="sc">%&gt;%</span> <span class="co"># acquire year from start sequence</span></span>
<span id="cb52-7"><a href="data-exploration.html#cb52-7" tabindex="-1"></a>  <span class="fu">select</span>(group_number, year) <span class="sc">%&gt;%</span>  <span class="co"># select variables group_number and year</span></span>
<span id="cb52-8"><a href="data-exploration.html#cb52-8" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> <span class="co"># group by year</span></span>
<span id="cb52-9"><a href="data-exploration.html#cb52-9" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(group_number))</span>
<span id="cb52-10"><a href="data-exploration.html#cb52-10" tabindex="-1"></a></span>
<span id="cb52-11"><a href="data-exploration.html#cb52-11" tabindex="-1"></a>n_known_yr</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##    year     n
##   &lt;dbl&gt; &lt;int&gt;
## 1  2019  3432
## 2  2020  2886
## 3  2021  1618
## 4  2022  3917
## 5  2023  3841</code></pre>
</div>
<div id="by-month" class="section level3 hasAnchor" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> By month<a href="data-exploration.html#by-month" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know how many individuals—known and unknown—were detected
each month to assess at a more seasonal level.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-exploration.html#cb54-1" tabindex="-1"></a>wlf_detect <span class="ot">&lt;-</span> detection</span>
<span id="cb54-2"><a href="data-exploration.html#cb54-2" tabindex="-1"></a>wlf_detect<span class="sc">$</span>species[<span class="fu">is.na</span>(wlf_detect<span class="sc">$</span>species)] <span class="ot">&lt;-</span> <span class="st">&quot;unknown&quot;</span> <span class="co"># convert NA values to &quot;unknown&quot;</span></span>
<span id="cb54-3"><a href="data-exploration.html#cb54-3" tabindex="-1"></a></span>
<span id="cb54-4"><a href="data-exploration.html#cb54-4" tabindex="-1"></a>n_detect_m <span class="ot">&lt;-</span> wlf_detect[wlf_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb54-5"><a href="data-exploration.html#cb54-5" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb54-6"><a href="data-exploration.html#cb54-6" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb54-7"><a href="data-exploration.html#cb54-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(<span class="fu">mdy_hm</span>(start_time))) <span class="sc">%&gt;%</span> <span class="co"># acquire month from start sequence</span></span>
<span id="cb54-8"><a href="data-exploration.html#cb54-8" tabindex="-1"></a>  <span class="fu">select</span>(group_number, month) <span class="sc">%&gt;%</span>  <span class="co"># select variables group_number and year</span></span>
<span id="cb54-9"><a href="data-exploration.html#cb54-9" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> <span class="co"># group by year</span></span>
<span id="cb54-10"><a href="data-exploration.html#cb54-10" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(group_number))</span>
<span id="cb54-11"><a href="data-exploration.html#cb54-11" tabindex="-1"></a></span>
<span id="cb54-12"><a href="data-exploration.html#cb54-12" tabindex="-1"></a>n_detect_m</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   month     n
##   &lt;dbl&gt; &lt;int&gt;
## 1     8   761
## 2     9  8884
## 3    10  8862
## 4    11   909</code></pre>
<p>We want to know how many known individuals were detected each year.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-exploration.html#cb56-1" tabindex="-1"></a>known_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ] <span class="co"># filter out unknown (NA) detections</span></span>
<span id="cb56-2"><a href="data-exploration.html#cb56-2" tabindex="-1"></a></span>
<span id="cb56-3"><a href="data-exploration.html#cb56-3" tabindex="-1"></a>n_known_m <span class="ot">&lt;-</span> known_detect[known_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="sc">%&gt;%</span> <span class="co"># filter out detections of humans</span></span>
<span id="cb56-4"><a href="data-exploration.html#cb56-4" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb56-5"><a href="data-exploration.html#cb56-5" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to detection using sequence_id</span></span>
<span id="cb56-6"><a href="data-exploration.html#cb56-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(<span class="fu">mdy_hm</span>(start_time))) <span class="sc">%&gt;%</span> <span class="co"># acquire month from start sequence</span></span>
<span id="cb56-7"><a href="data-exploration.html#cb56-7" tabindex="-1"></a>  <span class="fu">select</span>(group_number, month) <span class="sc">%&gt;%</span>  <span class="co"># select variables group_number and month</span></span>
<span id="cb56-8"><a href="data-exploration.html#cb56-8" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> <span class="co"># group by month</span></span>
<span id="cb56-9"><a href="data-exploration.html#cb56-9" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(group_number))</span>
<span id="cb56-10"><a href="data-exploration.html#cb56-10" tabindex="-1"></a></span>
<span id="cb56-11"><a href="data-exploration.html#cb56-11" tabindex="-1"></a>n_known_m</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##   month     n
##   &lt;dbl&gt; &lt;int&gt;
## 1     8   672
## 2     9  7343
## 3    10  6943
## 4    11   736</code></pre>
</div>
<div id="by-site" class="section level3 hasAnchor" number="3.4.3">
<h3><span class="header-section-number">3.4.3</span> By site<a href="data-exploration.html#by-site" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know which sites had the highest number of known individuals
detected. Let’s focus on the top five sites. Note that we need to bring
in the deployment and sequence tables to relate the site and detection
tables.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-exploration.html#cb58-1" tabindex="-1"></a>known_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ] <span class="co"># filter out unknown (NA) detections</span></span>
<span id="cb58-2"><a href="data-exploration.html#cb58-2" tabindex="-1"></a></span>
<span id="cb58-3"><a href="data-exploration.html#cb58-3" tabindex="-1"></a>known_detect <span class="ot">&lt;-</span> known_detect[known_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="co"># filter out human detections</span></span>
<span id="cb58-4"><a href="data-exploration.html#cb58-4" tabindex="-1"></a></span>
<span id="cb58-5"><a href="data-exploration.html#cb58-5" tabindex="-1"></a>n_detect_site <span class="ot">&lt;-</span> site <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="data-exploration.html#cb58-6" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to site using site_id</span></span>
<span id="cb58-7"><a href="data-exploration.html#cb58-7" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;deployment_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to site using deployment_id</span></span>
<span id="cb58-8"><a href="data-exploration.html#cb58-8" tabindex="-1"></a>  <span class="fu">left_join</span>(known_detect, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co"># join detection table to site using sequence_id</span></span>
<span id="cb58-9"><a href="data-exploration.html#cb58-9" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb58-10"><a href="data-exploration.html#cb58-10" tabindex="-1"></a>  <span class="fu">select</span>(group_number, site_id) <span class="sc">%&gt;%</span>  <span class="co"># select variables group_number and month</span></span>
<span id="cb58-11"><a href="data-exploration.html#cb58-11" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id) <span class="sc">%&gt;%</span> <span class="co"># group by month</span></span>
<span id="cb58-12"><a href="data-exploration.html#cb58-12" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(group_number, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> <span class="co"># calculate number of individuals detected per site</span></span>
<span id="cb58-13"><a href="data-exploration.html#cb58-13" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co"># arrange in descending order of individuals detected</span></span>
<span id="cb58-14"><a href="data-exploration.html#cb58-14" tabindex="-1"></a></span>
<span id="cb58-15"><a href="data-exploration.html#cb58-15" tabindex="-1"></a><span class="fu">head</span>(n_detect_site, <span class="dv">5</span>) <span class="co"># display the 5 sites with highest number of detections</span></span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   site_id     n
##   &lt;chr&gt;   &lt;int&gt;
## 1 IRPSS1    725
## 2 JBPSS1    531
## 3 LTPSS1    511
## 4 RVPSS1    394
## 5 DSPSS1    342</code></pre>
</div>
<div id="by-site-and-month" class="section level3 hasAnchor" number="3.4.4">
<h3><span class="header-section-number">3.4.4</span> By site and month<a href="data-exploration.html#by-site-and-month" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We want to know which sites had the highest number of known individuals
detected in September and October. Again, let’s focus on the top five
sites. We need to bring in the deployment table to relate the
detection-sequence and site tables.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data-exploration.html#cb60-1" tabindex="-1"></a>known_detect <span class="ot">&lt;-</span> detection[<span class="sc">!</span><span class="fu">is.na</span>(detection<span class="sc">$</span>species), ] <span class="co"># filter out unknown (NA) detections</span></span>
<span id="cb60-2"><a href="data-exploration.html#cb60-2" tabindex="-1"></a></span>
<span id="cb60-3"><a href="data-exploration.html#cb60-3" tabindex="-1"></a>known_detect <span class="ot">&lt;-</span> known_detect[known_detect<span class="sc">$</span>species <span class="sc">!=</span> <span class="st">&quot;sapiens&quot;</span>, ] <span class="co"># filter out human detections</span></span>
<span id="cb60-4"><a href="data-exploration.html#cb60-4" tabindex="-1"></a></span>
<span id="cb60-5"><a href="data-exploration.html#cb60-5" tabindex="-1"></a>n_detect <span class="ot">&lt;-</span> site <span class="sc">%&gt;%</span> </span>
<span id="cb60-6"><a href="data-exploration.html#cb60-6" tabindex="-1"></a>  <span class="fu">left_join</span>(deployment, <span class="at">by =</span> <span class="st">&quot;site_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join deployment table to site table using site_id</span></span>
<span id="cb60-7"><a href="data-exploration.html#cb60-7" tabindex="-1"></a>  <span class="fu">left_join</span>(sequence, <span class="at">by =</span> <span class="st">&quot;deployment_id&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># join sequence table to site using deployment_id</span></span>
<span id="cb60-8"><a href="data-exploration.html#cb60-8" tabindex="-1"></a>  <span class="fu">left_join</span>(known_detect, <span class="at">by =</span> <span class="st">&quot;sequence_id&quot;</span>) <span class="sc">%&gt;%</span>  <span class="co"># join detection table to site using sequence_id</span></span>
<span id="cb60-9"><a href="data-exploration.html#cb60-9" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;Domestic&quot;</span>, common_name)) <span class="sc">%&gt;%</span> <span class="co"># filter out domestic animals</span></span>
<span id="cb60-10"><a href="data-exploration.html#cb60-10" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">month</span>(<span class="fu">mdy_hm</span>(start_time))) <span class="sc">%&gt;%</span> <span class="co"># acquire month from start sequence</span></span>
<span id="cb60-11"><a href="data-exploration.html#cb60-11" tabindex="-1"></a>  <span class="fu">filter</span>(month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">10</span>)) <span class="sc">%&gt;%</span> <span class="co"># only include detections from Sept and Oct</span></span>
<span id="cb60-12"><a href="data-exploration.html#cb60-12" tabindex="-1"></a>  <span class="fu">select</span>(group_number, month, site_id) <span class="sc">%&gt;%</span> <span class="co"># select variables group_number, month, and site_id</span></span>
<span id="cb60-13"><a href="data-exploration.html#cb60-13" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id, month) <span class="sc">%&gt;%</span> <span class="co"># group by site_id, then by month</span></span>
<span id="cb60-14"><a href="data-exploration.html#cb60-14" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(group_number, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="co"># calculate number of individuals detected per site per month</span></span>
<span id="cb60-15"><a href="data-exploration.html#cb60-15" tabindex="-1"></a></span>
<span id="cb60-16"><a href="data-exploration.html#cb60-16" tabindex="-1"></a>Sept <span class="ot">&lt;-</span> n_detect[n_detect<span class="sc">$</span>month <span class="sc">==</span> <span class="dv">9</span>, ] <span class="sc">%&gt;%</span> </span>
<span id="cb60-17"><a href="data-exploration.html#cb60-17" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co"># arrange in descending order of individuals detected</span></span>
<span id="cb60-18"><a href="data-exploration.html#cb60-18" tabindex="-1"></a>Oct <span class="ot">&lt;-</span> n_detect[n_detect<span class="sc">$</span>month <span class="sc">==</span> <span class="dv">10</span>, ] <span class="sc">%&gt;%</span> </span>
<span id="cb60-19"><a href="data-exploration.html#cb60-19" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co"># arrange in descending order of individuals detected</span></span>
<span id="cb60-20"><a href="data-exploration.html#cb60-20" tabindex="-1"></a></span>
<span id="cb60-21"><a href="data-exploration.html#cb60-21" tabindex="-1"></a><span class="fu">head</span>(Sept, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
## # Groups:   site_id [5]
##   site_id month     n
##   &lt;chr&gt;   &lt;dbl&gt; &lt;int&gt;
## 1 JBPSS1      9   355
## 2 IRPSS1      9   310
## 3 LTPSS1      9   298
## 4 DSPSS1      9   204
## 5 RVPSS1      9   190</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="data-exploration.html#cb62-1" tabindex="-1"></a><span class="fu">head</span>(Oct, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
## # Groups:   site_id [5]
##   site_id                 month     n
##   &lt;chr&gt;                   &lt;dbl&gt; &lt;int&gt;
## 1 IRPSS1                     10   368
## 2 LTPSS1                     10   213
## 3 SEWA_N01_LTPSS_SP20_OFF    10   203
## 4 RVPSS1                     10   195
## 5 JBPSS1                     10   168</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="database-creation-and-population.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["_main.pdf", "_main.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  },
  "output_dir": "docs"
});
});
</script>

</body>

</html>
